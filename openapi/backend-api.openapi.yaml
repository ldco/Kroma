openapi: 3.1.0
info:
  title: IAT Backend API
  version: 0.1.0
servers:
  - url: http://127.0.0.1:8787
paths:
  /health:
    get:
      summary: Health check
      responses:
        "200":
          description: OK
  /api/projects:
    get:
      summary: List projects
      responses:
        "200":
          description: Project list
    post:
      summary: Create or upsert project
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name]
              properties:
                name: { type: string }
                slug: { type: string }
      responses:
        "200":
          description: Project created
  /api/projects/{slug}:
    get:
      summary: Get project summary
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/bootstrap-prompt:
    get:
      summary: Export project bootstrap prompt for AI configuration
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200":
          description: Bootstrap prompt export payload
          content:
            application/json:
              schema:
                type: object
                required: [ok, bootstrap]
                properties:
                  ok: { type: boolean }
                  bootstrap:
                    type: object
                    required:
                      [
                        schema_version,
                        generated_at,
                        project,
                        settings,
                        expected_response,
                        prompt,
                      ]
                    properties:
                      schema_version: { type: string }
                      generated_at: { type: string }
                      project:
                        type: object
                        properties:
                          id: { type: string }
                          slug: { type: string }
                          name: { type: string }
                          description: { type: string }
                      settings:
                        type: object
                        properties:
                          provider_accounts: { type: array, items: { type: object } }
                          style_guides: { type: array, items: { type: object } }
                          characters: { type: array, items: { type: object } }
                          reference_sets: { type: array, items: { type: object } }
                          secrets: { type: array, items: { type: object } }
                          prompt_templates: { type: array, items: { type: object } }
                      expected_response: { type: object }
                      prompt: { type: string }
        "404":
          description: Project not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  ok: { type: boolean }
                  error: { type: string }
  /api/projects/{slug}/bootstrap-import:
    post:
      summary: Import AI-generated bootstrap settings into a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                mode:
                  type: string
                  enum: [merge, replace]
                dry_run: { type: boolean }
                settings:
                  type: object
                  properties:
                    project:
                      type: object
                      properties:
                        name: { type: string }
                        description: { type: string }
                    provider_accounts:
                      type: array
                      items:
                        type: object
                        properties:
                          provider_code: { type: string }
                          display_name: { type: string }
                          account_ref: { type: string }
                          base_url: { type: string }
                          enabled: { type: boolean }
                          config_json: { type: object }
                    style_guides:
                      type: array
                      items:
                        type: object
                        properties:
                          name: { type: string }
                          instructions: { type: string }
                          notes: { type: string }
                    characters:
                      type: array
                      items:
                        type: object
                        properties:
                          name: { type: string }
                          description: { type: string }
                          prompt_text: { type: string }
                    reference_sets:
                      type: array
                      items:
                        type: object
                        required: [name, items]
                        properties:
                          name: { type: string }
                          description: { type: string }
                          items:
                            type: array
                            items:
                              type: object
                              properties:
                                label: { type: string }
                                content_uri: { type: string }
                                content_text: { type: string }
                                sort_order: { type: integer }
                                metadata_json: { type: object }
                    secrets:
                      type: array
                      items:
                        type: object
                        properties:
                          provider_code: { type: string }
                          secret_name: { type: string }
                    prompt_templates:
                      type: array
                      items:
                        type: object
                        properties:
                          name: { type: string }
                          template_text: { type: string }
                ai_response_text: { type: string }
      responses:
        "200":
          description: Bootstrap import result (or dry-run preview result)
          content:
            application/json:
              schema:
                type: object
                required: [ok, bootstrap_import]
                properties:
                  ok: { type: boolean }
                  bootstrap_import:
                    type: object
                    required:
                      [schema_version, mode, dry_run, project_updated, applied, changes, project, settings]
                    properties:
                      schema_version: { type: string }
                      mode:
                        type: string
                        enum: [merge, replace]
                      dry_run: { type: boolean }
                      project_updated: { type: boolean }
                      applied:
                        type: object
                        properties:
                          provider_accounts: { type: integer }
                          style_guides: { type: integer }
                          characters: { type: integer }
                          reference_sets: { type: integer }
                          secrets: { type: integer }
                          prompt_templates: { type: integer }
                      changes:
                        type: object
                        properties:
                          project: { type: object }
                          provider_accounts: { type: object }
                          style_guides: { type: object }
                          characters: { type: object }
                          reference_sets: { type: object }
                          secrets: { type: object }
                          prompt_templates: { type: object }
                      project:
                        type: object
                        properties:
                          id: { type: string }
                          slug: { type: string }
                          name: { type: string }
                          description: { type: string }
                      settings:
                        type: object
                        properties:
                          provider_accounts: { type: array, items: { type: object } }
                          style_guides: { type: array, items: { type: object } }
                          characters: { type: array, items: { type: object } }
                          reference_sets: { type: array, items: { type: object } }
                          secrets: { type: array, items: { type: object } }
                          prompt_templates: { type: array, items: { type: object } }
        "400":
          description: Invalid payload
          content:
            application/json:
              schema:
                type: object
                properties:
                  ok: { type: boolean }
                  error: { type: string }
        "404":
          description: Project not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  ok: { type: boolean }
                  error: { type: string }
  /api/projects/{slug}/storage:
    get:
      summary: Get project storage config
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/storage/local:
    put:
      summary: Update local storage settings
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/storage/s3:
    put:
      summary: Update S3 storage settings
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/runs:
    get:
      summary: List runs for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: query
          name: limit
          required: false
          schema: { type: integer, minimum: 1, maximum: 1000, default: 200 }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/runs/trigger:
    post:
      summary: Trigger pipeline execution (Rust-owned typed endpoint; script-backed execution during migration)
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                mode:
                  type: string
                  enum: [dry, run]
                  default: dry
                confirm_spend:
                  type: boolean
                project_root:
                  type: string
                input:
                  type: string
                  description: Required if `scene_refs` is omitted. Do not send both.
                scene_refs:
                  type: array
                  description: Required if `input` is omitted. Do not send both.
                  minItems: 1
                  items: { type: string }
                style_refs:
                  type: array
                  minItems: 1
                  items: { type: string }
                stage:
                  type: string
                  enum: [style, time, weather]
                time:
                  type: string
                  enum: [day, night]
                weather:
                  type: string
                  enum: [clear, rain]
                candidates:
                  type: integer
                  minimum: 1
                  maximum: 6
              oneOf:
                - required: [input]
                - required: [scene_refs]
      responses:
        "200":
          description: Trigger executed through Rust-owned pipeline service
          content:
            application/json:
              schema:
                type: object
                required: [ok, pipeline_trigger]
                properties:
                  ok: { type: boolean }
                  pipeline_trigger:
                    type: object
                    required: [mode, status_code, stdout, stderr, adapter]
                    properties:
                      mode:
                        type: string
                        enum: [dry, run]
                      status_code: { type: integer }
                      stdout: { type: string }
                      stderr: { type: string }
                      adapter:
                        type: string
                        description: Current execution backend implementation label.
                        example: script_fallback
        "400":
          description: Invalid payload or trigger request
          content:
            application/json:
              schema:
                type: object
                properties:
                  ok: { type: boolean }
                  error: { type: string }
        "404":
          description: Project not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  ok: { type: boolean }
                  error: { type: string }
  /api/projects/{slug}/runs/{runId}:
    get:
      summary: Get run detail with jobs and candidates
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: runId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Run not found }
  /api/projects/{slug}/runs/{runId}/jobs:
    get:
      summary: List jobs and candidates for a run
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: runId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Run not found }
  /api/projects/{slug}/assets:
    get:
      summary: List assets for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: query
          name: limit
          required: false
          schema: { type: integer, minimum: 1, maximum: 2000, default: 500 }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/assets/{assetId}:
    get:
      summary: Get asset detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: assetId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Asset not found }
  /api/projects/{slug}/asset-links:
    get:
      summary: List asset links for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: query
          name: asset_id
          required: false
          schema: { type: string }
        - in: query
          name: link_type
          required: false
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Create asset link
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [parent_asset_id, child_asset_id]
              properties:
                parent_asset_id: { type: string }
                child_asset_id: { type: string }
                link_type: { type: string, enum: [derived_from, variant_of, mask_for, reference_of] }
      responses:
        "200": { description: OK }
        "400": { description: Invalid payload }
        "404": { description: Project not found }
  /api/projects/{slug}/asset-links/{linkId}:
    get:
      summary: Get asset link detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: linkId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Asset link not found }
    put:
      summary: Update asset link
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: linkId
          required: true
          schema: { type: string }
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                parent_asset_id: { type: string }
                child_asset_id: { type: string }
                link_type: { type: string, enum: [derived_from, variant_of, mask_for, reference_of] }
      responses:
        "200": { description: OK }
        "400": { description: Invalid payload }
        "404": { description: Asset link not found }
    delete:
      summary: Delete asset link
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: linkId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Asset link not found }
  /api/projects/{slug}/quality-reports:
    get:
      summary: List quality reports for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: query
          name: limit
          required: false
          schema: { type: integer, minimum: 1, maximum: 2000, default: 500 }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/cost-events:
    get:
      summary: List cost events for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: query
          name: limit
          required: false
          schema: { type: integer, minimum: 1, maximum: 2000, default: 500 }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/exports:
    get:
      summary: List project exports
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: query
          name: limit
          required: false
          schema: { type: integer, minimum: 1, maximum: 2000, default: 500 }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/exports/{exportId}:
    get:
      summary: Get project export detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: exportId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Project export not found }
  /api/projects/{slug}/prompt-templates:
    get:
      summary: List prompt templates for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Create prompt template
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name, template_text]
              properties:
                name: { type: string }
                template_text: { type: string }
      responses:
        "200": { description: OK }
        "400": { description: Invalid payload }
  /api/projects/{slug}/prompt-templates/{templateId}:
    get:
      summary: Get prompt template detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: templateId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Prompt template not found }
    put:
      summary: Update prompt template
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: templateId
          required: true
          schema: { type: string }
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name: { type: string }
                template_text: { type: string }
      responses:
        "200": { description: OK }
        "400": { description: Invalid payload }
        "404": { description: Prompt template not found }
    delete:
      summary: Delete prompt template
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: templateId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Prompt template not found }
  /api/projects/{slug}/provider-accounts:
    get:
      summary: List provider accounts for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Create or upsert provider account
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "400": { description: Invalid payload }
  /api/projects/{slug}/provider-accounts/{providerCode}:
    get:
      summary: Get provider account detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: providerCode
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Provider account not found }
    put:
      summary: Update provider account
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: providerCode
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "400": { description: Invalid payload }
        "404": { description: Provider account not found }
    delete:
      summary: Delete provider account
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: providerCode
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/style-guides:
    get:
      summary: List style guides for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Create style guide
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/style-guides/{styleGuideId}:
    get:
      summary: Get style guide detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: styleGuideId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Style guide not found }
    put:
      summary: Update style guide
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: styleGuideId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Style guide not found }
    delete:
      summary: Delete style guide
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: styleGuideId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/characters:
    get:
      summary: List characters for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Create character
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/characters/{characterId}:
    get:
      summary: Get character detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: characterId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Character not found }
    put:
      summary: Update character
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: characterId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Character not found }
    delete:
      summary: Delete character
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: characterId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/reference-sets:
    get:
      summary: List reference sets for a project
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Create reference set
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/reference-sets/{referenceSetId}:
    get:
      summary: Get reference set detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: referenceSetId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Reference set not found }
    put:
      summary: Update reference set
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: referenceSetId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    delete:
      summary: Delete reference set
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: referenceSetId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/reference-sets/{referenceSetId}/items:
    get:
      summary: List reference items in a reference set
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: referenceSetId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Reference set not found }
    post:
      summary: Add or upsert reference item in a reference set
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: referenceSetId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "400": { description: Invalid asset id or payload }
        "404": { description: Reference set not found }
  /api/projects/{slug}/reference-sets/{referenceSetId}/items/{itemId}:
    get:
      summary: Get reference item detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: referenceSetId
          required: true
          schema: { type: string }
        - in: path
          name: itemId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Reference item not found }
    put:
      summary: Update reference item
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: referenceSetId
          required: true
          schema: { type: string }
        - in: path
          name: itemId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "400": { description: Invalid asset id or payload }
        "404": { description: Reference item not found }
    delete:
      summary: Delete reference item
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: referenceSetId
          required: true
          schema: { type: string }
        - in: path
          name: itemId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Reference item not found }
  /api/projects/{slug}/chat/sessions:
    get:
      summary: List chat sessions
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Create chat session
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title: { type: string }
                username: { type: string }
                context_json: { type: object }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/chat/sessions/{sessionId}:
    get:
      summary: Get chat session detail
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: sessionId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "404": { description: Chat session not found }
  /api/projects/{slug}/chat/sessions/{sessionId}/messages:
    get:
      summary: List messages in chat session
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: sessionId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Create chat message
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: sessionId
          required: true
          schema: { type: string }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [role, content_text]
              properties:
                role:
                  type: string
                  enum: [user, assistant, system, tool]
                content_text: { type: string }
                content_json: { type: object }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/agent/instructions:
    get:
      summary: List project instructions
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Create instruction
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [instruction_type, payload_json]
              properties:
                instruction_type: { type: string }
                payload_json: { type: object }
                requires_confirmation: { type: boolean }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/agent/instructions/{instructionId}:
    get:
      summary: Get instruction
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: instructionId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/agent/instructions/{instructionId}/events:
    get:
      summary: Get instruction events
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: instructionId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/agent/instructions/{instructionId}/confirm:
    post:
      summary: Confirm instruction
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: instructionId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/agent/instructions/{instructionId}/cancel:
    post:
      summary: Cancel instruction
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: instructionId
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/secrets:
    get:
      summary: List project secrets (masked)
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
    post:
      summary: Set project secret
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
  /api/projects/{slug}/secrets/{providerCode}/{secretName}:
    delete:
      summary: Delete project secret
      parameters:
        - in: path
          name: slug
          required: true
          schema: { type: string }
        - in: path
          name: providerCode
          required: true
          schema: { type: string }
        - in: path
          name: secretName
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
